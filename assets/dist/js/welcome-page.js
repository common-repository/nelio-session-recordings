(()=>{var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t);const n=window.wp.element,o=window.wp.domReady,r=e.n(o)(),i=(window.wp.notices,window.wp.apiFetch);var l=e.n(i);const s=window.wp.date,a=window.wp.url;var c=function(){return c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)};var m=function(e){var t,n;return!!(null===(t=e.url)||void 0===t?void 0:t.includes("/wp-json/"))||!!(null===(n=e.url)||void 0===n?void 0:n.includes("rest_route"))||!!Object.keys(e).includes("rest_route")};const u=window.lodash,p=window.neliosr.data,d=window.React;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}const g=function(e){return d.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 133.65 57.138"},e),d.createElement("path",{d:"M50.46 16.055v14.513h2.405V18.477h8.432a1.26 1.26 0 0 1 1.258 1.255v10.836h2.422V18.586a2.526 2.526 0 0 0-2.532-2.531zm16.938 0v2.422h14.516v-2.422zm16.938 0v11.982a2.526 2.526 0 0 0 2.531 2.531H98.85v-2.422H88.014a1.26 1.26 0 0 1-1.256-1.255V16.055Zm16.918 0v14.513h2.422V16.055Zm7.357 0a2.504 2.504 0 0 0-2.511 2.511v9.489a2.506 2.506 0 0 0 2.511 2.513h9.489a2.52 2.52 0 0 0 2.513-2.513v-9.489a2.506 2.506 0 0 0-2.513-2.511zm1.149 2.404h7.176c.692 0 1.238.564 1.238 1.256v7.176c0 .692-.546 1.238-1.238 1.238h-7.176a1.23 1.23 0 0 1-1.239-1.238v-7.176c0-.692.547-1.256 1.239-1.256m-42.362 3.64v2.424h14.516V22.1zm0 6.047v2.422h14.516v-2.422z",style:{fill:"#000"}}),d.createElement("path",{d:"M30.6 11.33a17.697 17.697 0 0 0-17.696 17.696 17.697 17.697 0 0 0 17.697 17.697 17.697 17.697 0 0 0 17.696-17.697A17.697 17.697 0 0 0 30.601 11.33m-12.097 9.412h24.194v3.34H18.503Zm.001 4.918h24.194v11.65H18.504Zm3.681 2.787a5.48 5.48 0 0 0 0 4.471h2.63v-4.47zm14.201 0v4.471h2.63a5.48 5.48 0 0 0 0-4.47zm-9.073.014v4.47h6.575v-4.47z",style:{opacity:.999,fill:"#4b6084",fillOpacity:1,strokeWidth:3.80969,strokeLinecap:"round"}}),d.createElement("text",{xmlSpace:"preserve",x:63.691,y:6.681,style:{fontStyle:"normal",fontVariant:"normal",fontWeight:400,fontStretch:"normal",fontSize:"26.6667px",lineHeight:1.25,fontFamily:"&quot",InkscapeFontSpecification:"&quot"}}),d.createElement("path",{d:"M49.804 43.313v-6.922h.896v1.885l-.092-.33q.29-.79.976-1.2.685-.421 1.7-.421v.91h-.105q-.052-.013-.105-.013-1.095 0-1.714.672-.62.66-.62 1.886v3.533zm8.06.066q-1.082 0-1.9-.448-.817-.462-1.278-1.253-.462-.804-.462-1.832t.436-1.82q.448-.791 1.213-1.24.778-.461 1.74-.461.976 0 1.727.448.765.435 1.2 1.24.435.79.435 1.833 0 .065-.013.145v.145h-6.026v-.7h5.525l-.369.278q0-.752-.33-1.332-.316-.593-.87-.923t-1.279-.33q-.712 0-1.279.33t-.883.923-.317 1.358v.145q0 .791.343 1.398.356.593.976.936.633.33 1.437.33.633 0 1.174-.225.553-.224.949-.685l.527.606q-.461.554-1.16.844-.686.29-1.516.29m7.898 0q-1.029 0-1.846-.448-.805-.462-1.266-1.253-.461-.804-.461-1.832 0-1.042.461-1.833t1.266-1.24q.817-.448 1.846-.448.883 0 1.595.343t1.121 1.028l-.699.475q-.356-.527-.883-.778-.528-.25-1.147-.25-.739 0-1.332.342-.593.33-.936.936t-.343 1.425.343 1.424.936.949q.593.33 1.332.33.62 0 1.147-.25.527-.251.883-.766l.699.475q-.409.672-1.12 1.028-.713.343-1.596.343m7.254 0q-1.002 0-1.807-.448-.79-.462-1.252-1.253-.462-.804-.462-1.832 0-1.042.462-1.833.461-.791 1.252-1.24t1.807-.448q1.028 0 1.82.448.804.449 1.252 1.24.461.79.461 1.833 0 1.028-.461 1.832-.448.791-1.253 1.253-.804.448-1.82.448m0-.83q.751 0 1.331-.33.58-.343.91-.95.343-.62.343-1.423 0-.818-.343-1.425-.33-.606-.91-.936-.58-.343-1.318-.343t-1.319.343q-.58.33-.923.936t-.343 1.425q0 .804.343 1.424.343.606.923.949.58.33 1.306.33m5.445.764v-6.922h.897v1.885l-.092-.33q.29-.79.975-1.2.686-.421 1.701-.421v.91h-.105q-.053-.013-.106-.013-1.094 0-1.714.672-.62.66-.62 1.886v3.533zm7.876.066q-.99 0-1.78-.448-.778-.448-1.227-1.24-.448-.804-.448-1.845 0-1.055.448-1.846.449-.792 1.226-1.227.792-.448 1.78-.448.91 0 1.622.409.726.408 1.148 1.2.435.778.435 1.912 0 1.12-.422 1.911-.422.792-1.147 1.214-.712.408-1.635.408m.065-.83q.739 0 1.319-.33.593-.343.923-.95.343-.62.343-1.423 0-.818-.343-1.425-.33-.606-.923-.936-.58-.343-1.319-.343-.725 0-1.305.343-.58.33-.923.936t-.343 1.425q0 .804.343 1.424.343.606.923.949.58.33 1.305.33m2.611.764V41.23l.093-1.398-.132-1.397V33.53h.936v9.783zm3.508 0v-6.922h.936v6.922zm.474-8.452q-.29 0-.488-.197-.197-.198-.197-.475t.197-.462q.198-.197.488-.197t.488.184.198.462q0 .29-.198.488-.184.197-.488.197m6.606 1.464q.844 0 1.477.33.646.316 1.002.975.37.66.37 1.662v4.021h-.937v-3.929q0-1.094-.554-1.648-.54-.567-1.53-.567-.738 0-1.291.303-.541.29-.844.857-.29.554-.29 1.345v3.64h-.936V36.39h.896v1.899l-.145-.356q.33-.752 1.055-1.174.725-.435 1.727-.435m8.334 9.612q-.95 0-1.82-.277t-1.41-.79l.474-.713q.488.435 1.2.686.725.264 1.53.264 1.318 0 1.937-.62.62-.607.62-1.899v-1.727l.132-1.187-.092-1.187v-2.096h.896v6.078q0 1.794-.883 2.624-.87.844-2.584.844m-.172-2.887q-.989 0-1.78-.422-.791-.435-1.253-1.2-.448-.765-.448-1.754t.448-1.74q.462-.765 1.253-1.187t1.78-.422q.923 0 1.662.382.738.383 1.173 1.134.435.752.435 1.833t-.435 1.833-1.173 1.147-1.662.396m.092-.831q.765 0 1.359-.317.593-.33.936-.896.343-.58.343-1.332 0-.751-.343-1.318t-.936-.884q-.594-.33-1.359-.33-.751 0-1.358.33-.593.317-.936.884-.33.567-.33 1.318t.33 1.332q.343.567.936.896.607.317 1.358.317m8.017 1.16q-.857 0-1.622-.237-.764-.25-1.2-.62l.422-.738q.422.316 1.082.554.659.224 1.384.224.99 0 1.424-.303.435-.317.435-.831 0-.383-.25-.594-.238-.224-.633-.33-.396-.118-.884-.197-.487-.08-.975-.185-.475-.105-.87-.303-.396-.21-.647-.567-.237-.356-.237-.95 0-.566.317-1.014.316-.449.923-.7.62-.263 1.503-.263.672 0 1.345.185.672.171 1.107.461l-.409.752q-.461-.317-.988-.449-.528-.145-1.055-.145-.937 0-1.385.33-.435.316-.435.817 0 .396.237.62.25.224.646.356.41.119.884.198.488.08.962.198.488.105.884.303.409.185.646.54.25.343.25.91 0 .607-.342 1.055-.33.435-.976.686-.633.237-1.543.237","aria-label":"recordings",style:{fontSize:"13.1856px",lineHeight:1.25,fontFamily:"Montserrat",InkscapeFontSpecification:"Montserrat",fill:"#4b6084"},transform:"scale(1.01505 .98517)"}))},f=window.wp.components,h=window.wp.i18n;function w(e){return e.startsWith("{{/")?{type:"componentClose",value:e.replace(/\W/g,"")}:e.endsWith("/}}")?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.startsWith("{{")?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}function y(e,t){let n,o,r=[];for(let i=0;i<e.length;i++){const l=e[i];if("string"!==l.type){if(void 0===t[l.value])throw new Error(`Invalid interpolation, missing component node: \`${l.value}\``);if("object"!=typeof t[l.value])throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \`${l.value}\``);if("componentClose"===l.type)throw new Error(`Missing opening component token: \`${l.value}\``);if("componentOpen"===l.type){n=t[l.value],o=i;break}r.push(t[l.value])}else r.push(l.value)}if(n){const i=function(e,t){const n=t[e];let o=0;for(let r=e+1;r<t.length;r++){const e=t[r];if(e.value===n.value){if("componentOpen"===e.type){o++;continue}if("componentClose"===e.type){if(0===o)return r;o--}}}throw new Error("Missing closing component token `"+n.value+"`")}(o,e),l=y(e.slice(o+1,i),t),s=(0,d.cloneElement)(n,{},l);if(r.push(s),i<e.length-1){const n=y(e.slice(i+1),t);r=r.concat(n)}}return r=r.filter(Boolean),0===r.length?null:1===r.length?r[0]:(0,d.createElement)(d.Fragment,null,...r)}function q(e){const{mixedString:t,components:n,throwErrors:o}=e;if(!n)return t;if("object"!=typeof n){if(o)throw new Error(`Interpolation Error: unable to process \`${t}\` because components is not an object`);return t}const r=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(w)}(t);try{return y(r,n)}catch(e){if(o)throw new Error(`Interpolation Error: unable to process \`${t}\` because of error \`${e.message}\``);return t}}const b=window.neliosr.utils;var E=function(e){var t=e.initPluginInAws,o=e.isPluginBeingInitialized,r=e.isPolicyAccepted,i=e.license,l=e.setLicense,s=e.togglePolicy;return n.createElement(n.Fragment,null,n.createElement("p",{className:"neliosr-welcome-message__intro"},q({mixedString:(0,h.sprintf)(/* translators: plugin name (Nelio Session Recordings) */ /* translators: plugin name (Nelio Session Recordings) */
(0,h._x)("%s is almost ready!","text","nelio-session-recordings"),"{{strong}}Nelio Session Recordings{{/strong}}"),components:{strong:n.createElement("strong",null)}})),n.createElement("p",{className:"neliosr-welcome-message__instructions"},(0,h._x)("Please type in your license key to start using Nelio Session Recordings:","user","nelio-session-recordings")),n.createElement("div",{className:"neliosr-welcome-message__license"},n.createElement(f.TextControl,{disabled:o,value:i,onChange:function(e){return l((0,u.trim)(e))},placeholder:(0,h._x)("License Key","text","nelio-session-recordings")})),n.createElement("div",{className:"neliosr-welcome-message__policy"},n.createElement(f.CheckboxControl,{label:q({mixedString:(0,h._x)("I accept Nelio’s {{tac}}Terms and Conditions{{/tac}} and {{policy}}Privacy Policy{{/policy}}.","user","nelio-session-recordings"),components:{tac:n.createElement(f.ExternalLink,{href:(0,b.addFreeTracker)("https://neliosoftware.com/legal-information/nelio-session-recordings-terms-conditions/")}),policy:n.createElement(f.ExternalLink,{href:(0,b.addFreeTracker)("https://neliosoftware.com/privacy-policy-cookies/")})}}),disabled:o,checked:r,onChange:s})),n.createElement("div",{className:"neliosr-welcome-message__actions"},n.createElement(f.Button,{className:"neliosr-welcome-message__start",variant:"primary",disabled:o||!r||!i,onClick:function(){return t()}},o?(0,h._x)("Loading…","text","nelio-session-recordings"):(0,h._x)("Continue »","command","nelio-session-recordings"))))},_=function(){var e=(0,p.usePageAttribute)("welcome/error","")[0],t=P(),o=t[0],r=t[1],i=(0,p.usePageAttribute)("welcome/license",""),l=i[0],s=i[1],a=(0,p.usePageAttribute)("welcome/isPolicyAccepted",!1),c=a[0],m=a[1];return n.createElement("div",{className:"neliosr-welcome-message"},n.createElement(g,{className:"neliosr-welcome-message__logo",title:"Nelio Session Recordings",alt:"Nelio Session Recordings"}),n.createElement(E,{initPluginInAws:r,isPluginBeingInitialized:o,isPolicyAccepted:c,license:l,setLicense:s,togglePolicy:m}),!!e&&n.createElement("div",{className:"neliosr-welcome-message__error"},e))},P=function(){var e=(0,p.usePageAttribute)("welcome/error",""),t=(e[0],e[1]),n=(0,p.usePageAttribute)("welcome/license","")[0],o=(0,p.usePageAttribute)("welcome/isPluginBeingInitialized",!1),r=o[0],i=o[1];return[r,function(){var e,o,r,u;i(!0),t(""),(e={path:"/neliosr/v1/init-site",method:"POST",data:{license:n}},o=e.url,r=e.path,u=(0,s.format)("YmjHi").substring(0,11)+"0",l()(c(c(c({},e),o&&{url:m(e)?(0,a.addQueryArgs)(o,{neliosrts:u}):o}),r&&{path:(0,a.addQueryArgs)(r,{neliosrts:u})}))).then((function(){return window.location.reload()})).catch((function(e){t(x(e)?e.message:"Something went wrong"),i(!1)}))}]},x=function(e){return!!e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&!!(0,u.trim)(e.message)};r((function(){var e,t,o=document.getElementById("neliosr-welcome");e=n.createElement(_,null),(t=o)&&(n.createRoot?(0,n.createRoot)(t).render(e):(0,n.render)(e,t))}))})();var n=neliosr="undefined"==typeof neliosr?{}:neliosr;for(var o in t)n[o]=t[o];t.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();